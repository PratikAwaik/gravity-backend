(this["webpackJsonpgravity-frontend"]=this["webpackJsonpgravity-frontend"]||[]).push([[6],{138:function(e,t,s){"use strict";s(0);var n=s(13),r=s(135),c=s.n(r),o=s(1);t.a=function(e){var t=e.post;return Object(o.jsxs)("div",{className:"forum-post-header text-theme-gray text-sm mb-2 flex flex-col sm:flex-row sm:items-center z-10",children:[Object(o.jsxs)(n.b,{to:"/r/".concat(t.subreddit.id),className:"flex items-center mr-2 hover:underline",children:[Object(o.jsx)("img",{className:"w-6 h-6 rounded-full mr-1",src:t.subreddit.communityIcon,alt:"Community Icon"}),Object(o.jsx)("span",{className:"font-bold",children:t.subreddit.prefixedName})]}),Object(o.jsxs)("div",{className:"ml-5 sm:ml-0 flex flex-wrap items-center",children:["Posted by",t.user&&t.user.username?Object(o.jsx)(n.b,{to:"/user/".concat(t.user.id),className:"ml-1 hover:underline",children:t.user.prefixedName}):Object(o.jsx)("span",{className:"ml-1 underline",children:"u/[deleted]"}),Object(o.jsx)("div",{className:"mx-2 inline-block w-1 h-1 bg-theme-black rounded-full"}),c()(t.createdAt).fromNow(),t.editedAt&&Object(o.jsx)("span",{className:"ml-1",children:"(edited)"})]})]})}},139:function(e,t,s){"use strict";var n=s(2),r=s.n(n),c=s(6),o=(s(0),s(8)),i=s(14),a=s(13),l=s(50),m=s.n(l),d=s(7),b=s(37),x=s(1);t.a=function(e){var t=e.post,s=e.isPostDetail,n=e.setToEdit,l=Object(o.c)((function(e){return e})),u=l.currentUser,j=l.comments,f=Object(i.g)(),h=Object(o.b)(),p=Object(d.f)(u,t.id,"postsUpvoted"),O=Object(d.e)(u,t.id,"postsDownvoted"),v=function(){var e=Object(c.a)(r.a.mark((function e(){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={title:"Are you sure?",showCancelButton:!0,showConfirmButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, go back!",position:"center",icon:"warning",customClass:{confirmButton:"bg-theme-green text-theme-white border border-theme-green rounded-md",cancelButton:"bg-theme-gray, border border-theme-gray rounded-md"}},e.next=3,m.a.fire(s);case 3:if(!e.sent.isConfirmed){e.next=15;break}return e.prev=5,e.next=8,Object(b.b)(h,t.id,u.token);case 8:f.goBack(),m.a.fire({icon:"success",title:"Post deleted Successfully!",showConfirmButton:!1,timer:2e3}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),Object(d.b)(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{className:"forum-post-footer flex items-center justify-between ".concat(s?"mb-5":""),children:[Object(x.jsxs)("div",{className:"flex items-center",children:[u.username?Object(x.jsxs)("div",{className:"mr-2 flex items-center ".concat(p?"text-theme-green":""),children:[Object(x.jsx)("i",{className:"ri-rocket-2-".concat(p?"fill":"line"," cursor-pointer text-lg sm:text-xl z-10"),onClick:function(){Object(d.d)(h,u,t,p,O)}}),Object(x.jsx)("span",{className:"text-xl",children:t.upvotes})]}):Object(x.jsxs)(a.b,{to:"/login",className:"mr-2 flex items-center",children:[Object(x.jsx)("i",{className:"ri-rocket-2-line cursor-pointer text-lg sm:text-xl z-10"}),Object(x.jsx)("span",{className:"text-xl",children:t.upvotes})]}),u.username?Object(x.jsxs)("div",{className:"mr-4 flex items-center ".concat(O?"text-theme-red":""),children:[Object(x.jsx)("i",{className:"ri-rocket-2-".concat(O?"fill":"line"," transform rotate-180 cursor-pointer text-lg sm:text-xl z-10"),onClick:function(){Object(d.c)(h,u,t,p,O)}}),Object(x.jsx)("span",{className:"text-xl",children:t.downvotes})]}):Object(x.jsxs)(a.b,{to:"/login",className:"mr-4 flex items-center",children:[Object(x.jsx)("i",{className:"ri-rocket-2-line transform rotate-180 cursor-pointer text-lg sm:text-xl z-10"}),Object(x.jsx)("span",{className:"text-xl",children:t.downvotes})]}),Object(x.jsxs)("div",{className:"flex items-center cursor-pointer z-10",children:[Object(x.jsx)("i",{className:"ri-chat-1-line mr-1 text-lg sm:text-xl"}),Object(x.jsx)("span",{className:"mr-1",children:s?j.length:t.comments.length}),"comments"]})]}),t.user&&t.user.id===u.id&&s&&Object(x.jsxs)("div",{className:"flex items-center mr-5",children:[Object(x.jsx)("button",{to:"/forums/".concat(t.id,"/edit"),onClick:function(){n(!0)},className:"mr-3",children:Object(x.jsx)("i",{className:"ri-edit-2-line cursor-pointer text-xl z-10 text-theme-blue"})}),Object(x.jsx)("button",{onClick:v,children:Object(x.jsx)("i",{className:"ri-delete-bin-5-line cursor-pointer text-xl z-10 text-theme-red"})})]})]})}},141:function(e,t,s){"use strict";s.r(t);s(0);var n=s(31),r=s(138),c=s(142),o=s(139),i=s(1);t.default=function(e){var t=e.post;return Object(i.jsxs)("div",{className:"forum-post-container bg-transparent p-4 border-2 sm:rounded-md mb-3 sm:mb-6 relative shadow-md",children:[Object(i.jsx)(r.a,{post:t}),Object(i.jsx)(c.a,{post:t,isPostDetail:!1}),Object(i.jsx)(o.a,{post:t,upvoteAction:n.f,downvoteAction:n.e,isPostDetail:!1})]})}},142:function(e,t,s){"use strict";var n=s(0),r=s(13),c=s(137),o=s.n(c),i=s(2),a=s.n(i),l=s(4),m=s(6),d=s(17),b=s(8),x=s(14),u=s(64),j=s(37),f=s(7),h=s(1),p=function(e){var t=e.post,s=e.setPost,r=e.setToEdit,c=Object(n.useState)(t.content),o=Object(d.a)(c,2),i=o[0],p=o[1],O=Object(b.c)((function(e){return e.currentUser})),v=Object(x.i)().id,N=Object(b.b)(),g=function(){var e=Object(m.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(j.c)(N,v,{content:i},O.token);case 3:return s(Object(l.a)(Object(l.a)({},t),{},{content:i})),e.next=6,Object(f.j)("Post updated successfully!");case 6:r(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"mt-5 create-post-container pt-9 max-w-3xl mx-auto mb-5",children:Object(h.jsxs)("form",{onSubmit:g,children:[Object(h.jsx)(u.a,{editorContent:i,setEditorContent:p,isPost:!0}),Object(h.jsxs)("div",{className:"flex items-center mt-5",children:[Object(h.jsx)("button",{type:"submit",className:"px-4 sm:px-5 py-1.5 border-2 border-theme-green rounded-md text-sm sm:text-base hover:bg-theme-green hover:text-theme-white",children:"Update"}),Object(h.jsx)("button",{type:"button",className:"ml-4 px-4 sm:px-5 py-1.5 border-2 border-theme-red rounded-md text-sm sm:text-base hover:bg-theme-red",onClick:function(){r(!1)},children:"Cancel"})]})]})})},O={ADD_TAGS:["iframe"],ADD_ATTR:["allow","allowfullscreen","frameborder","scrolling"]};t.a=function(e){var t=e.post,s=e.setPost,n=e.isPostDetail,c=e.toEdit,i=e.setToEdit;return Object(h.jsxs)("div",{className:"forum-post-body overflow-hidden mb-4 ".concat(n?"":"max-h-44 sm:max-h-52"),style:n?{}:{maskImage:"linear-gradient(180deg, #000 70%, transparent)",WebkitMaskImage:"linear-gradient(180deg, #000 70%, transparent)"},children:[n?Object(h.jsx)("div",{children:Object(h.jsx)("h3",{className:"text-lg sm:text-xl font-bold mb-3",children:t.title})}):Object(h.jsx)(r.b,{to:"/forums/".concat(t.id),className:"forum-post-body-title",onClick:function(){window.localStorage.setItem("gravityScrollPosition",window.pageYOffset)},children:Object(h.jsx)("h3",{className:"text-lg sm:text-xl font-bold mb-3",children:t.title})}),c?Object(h.jsx)(p,{post:t,setPost:s,setToEdit:i}):Object(h.jsx)("div",{className:"text-sm sm:text-base forum-post-body-content",dangerouslySetInnerHTML:{__html:o.a.sanitize(t.content,O)}})]})}}}]);
//# sourceMappingURL=6.07fe5b3f.chunk.js.map