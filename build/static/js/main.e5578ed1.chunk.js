(this["webpackJsonpgravity-frontend"]=this["webpackJsonpgravity-frontend"]||[]).push([[2],{131:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(40),s=r.n(c),o=r(48),i=r(8),u=(r(93),r(94),r(13)),l=r(14),d=r(1),b=function(e){var t=e.label,r=e.slug,n=Object(l.h)().pathname===r?"bg-gray-300":"";return Object(d.jsx)(u.b,{to:r,className:"mx-2 rounded-md hover:bg-gray-300 px-2 border border-gray-300 shadow-sm text-md ".concat(n," px-3 py-1"),children:t})},m=r(26),p=r(133),f=r(132);function j(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}var x=function(e){var t=e.handleSignOut,r=Object(i.c)((function(e){return e.currentUser}));return Object(d.jsxs)(p.a,{as:"div",className:"relative inline-block text-left mx-2",children:[Object(d.jsx)("div",{children:Object(d.jsxs)(p.a.Button,{className:"inline-flex items-center justify-center w-full rounded-md p-1 px-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-300",children:[Object(d.jsx)("i",{className:"ri-user-3-line text-xl"}),Object(d.jsx)("i",{className:"ri-arrow-down-s-line text-xl hidden sm:block"}),Object(d.jsx)("i",{className:"ri-arrow-up-s-line text-xl block sm:hidden"})]})}),Object(d.jsx)(f.a,{as:n.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(d.jsx)(p.a.Items,{className:"origin-top-right absolute right-0 -top-40 sm:top-10 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(d.jsxs)("div",{className:"py-1",children:[Object(d.jsx)(p.a.Item,{children:function(e){var t=e.active;return Object(d.jsxs)(u.b,{to:"/user/".concat(r.id),className:j(t?"bg-gray-100 text-gray-900":"text-gray-700","px-4 py-2 text-sm flex items-center"),children:[Object(d.jsx)("i",{className:"ri-profile-line text-lg mr-2"}),Object(d.jsx)("span",{className:"text-sm",children:"Profile"})]})}}),Object(d.jsx)(p.a.Item,{children:function(e){var t=e.active;return Object(d.jsxs)(u.b,{to:"/r/create",className:j(t?"bg-gray-100 text-gray-900":"text-gray-700","px-4 py-2 text-sm flex items-center"),children:[Object(d.jsx)("i",{className:"ri-community-line text-lg mr-2"}),Object(d.jsx)("span",{className:"text-sm",children:"Create a Community"})]})}}),Object(d.jsx)(p.a.Item,{children:function(e){var r=e.active;return Object(d.jsxs)("button",{to:"",className:j(r?"bg-gray-100 text-gray-900":"text-gray-700","w-full px-4 py-2 text-sm flex items-center"),onClick:t,children:[Object(d.jsx)("i",{className:"ri-logout-box-r-line text-lg mr-2"}),Object(d.jsx)("span",{className:"text-sm",children:"Sign Out"})]})}})]})})})]})},h=function(e){var t=e.iconClass,r=e.slug,n=e.tooltipText,a=Object(l.h)().pathname===r?"bg-gray-300":"";return Object(d.jsxs)("div",{className:"relative mx-2 inline-block tooltip",children:[Object(d.jsx)(u.b,{to:r,className:"flex items-center rounded-md hover:bg-gray-300 px-2 ".concat(a),children:Object(d.jsx)("i",{className:"".concat(t," text-xl p-1")})}),n&&Object(d.jsx)("span",{className:"invisible text-sm w-32 bg-gray-800 text-white text-center rounded-md p-1 absolute bottom-3/4 left-2/4 -m-16 tooltip-text z-20",children:n})]})},O=r(17),v=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)({subreddits:[],posts:[]}),s=Object(O.a)(c,2),o=s[0],b=s[1],m=Object(n.useState)(!0),p=Object(O.a)(m,2),f=p[0],j=p[1],x=Object(n.useState)({}),h=Object(O.a)(x,2),v=h[0],g=h[1],y=Object(i.c)((function(e){return e})),w=y.subreddits,N=y.forums,S=Object(n.useRef)(),E=Object(l.h)();function k(e){S.current.contains(e.target)||j(!0)}Object(n.useEffect)((function(){return function(e,t,r){var n=e.split("/").filter((function(e){return""!==e}));"r"===n[0]?r(t.find((function(e){return e.id===n[1]}))||{}):r({})}(E.pathname,w,g),document.addEventListener("mousedown",k),function(){return document.removeEventListener("mousedown",k)}}),[E,w]);return Object(d.jsxs)("div",{className:"flex flex-grow items-stretch max-w-2xl rounded border relative border-gray-400 ".concat(f?"":"ring"),onClick:function(){return j(!1)},children:[Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault()},className:"w-full flex items-center",children:[Object(d.jsx)("span",{className:"h-full font-normal text-center text-gray-400 bg-transparent rounded text-base justify-center w-8 pl-2 py-1 flex items-center",children:Object(d.jsx)("i",{className:"ri-search-line text-xl"})}),v.id&&Object(d.jsxs)("div",{className:"left-10 font-normal text-center bg-gray-200 text-base justify-center py-1 px-5 flex items-center rounded-3xl mx-2",children:[Object(d.jsx)("img",{className:"w-5 h-5 rounded-full object-cover mr-2",src:v.communityIcon,alt:"Selected Subreddit's Community Icon"}),Object(d.jsx)("span",{className:"font-bold text-sm sm:text-md",children:v.prefixedName})]}),Object(d.jsx)("input",{type:"text",placeholder:"Search Gravity",className:"px-3 py-1 placeholder-gray-400 text-gray-600 relative bg-white border-none pl-1.5 text-base outline-none w-full",onChange:function(e){e.preventDefault();var t=e.target.value;a(t);var r={posts:t?N.filter((function(e){return e.title.toLowerCase().trim().includes(t.toLowerCase().trim())})):[],subreddits:t?w.filter((function(e){return e.name.toLowerCase().trim().includes(t.toLowerCase().trim())})):[]};b(r)},value:r})]}),Object(d.jsx)("div",{ref:S,className:"absolute w-full top-16 z-50",children:!f&&(o.subreddits.length>0||o.posts.length>0)&&Object(d.jsx)("div",{className:"max-h-72 overflow-y-auto bg-white border-2 border-theme-white rounded-md",children:Object(d.jsxs)("div",{className:"w-full",children:[o.subreddits.map((function(e){return Object(d.jsxs)(u.b,{to:"/r/".concat(e.id),className:"flex items-center py-4 px-3 border-b-2 border-gray-300 hover:bg-gray-200",onClick:function(){return function(e){g(e),a("")}(e)},children:[Object(d.jsx)("img",{className:"w-7 h-7 rounded-full mr-3",src:e.communityIcon,alt:"Subreddit Community Icon"}),Object(d.jsx)("span",{className:"font-bold mr-3",children:e.name}),Object(d.jsx)("div",{className:"w-1 h-1 rounded-full bg-theme-black mr-3"}),Object(d.jsxs)("span",{className:"text-theme-gray text-sm",children:[e.members.length," Members"]})]},e.id)})),o.posts.map((function(e){return Object(d.jsx)(u.b,{to:"/forums/".concat(e.id),className:"flex items-center py-4 px-3 border-b-2 border-gray-300 hover:bg-gray-200",children:Object(d.jsx)("p",{className:"font-bold text-lg",children:e.title})},e.id)}))]})})})]})},g=r.p+"static/media/logo.c67c942a.svg",y=function(){var e=Object(i.c)((function(e){return e.currentUser})),t=Object(i.b)(),r=Object(l.g)();return Object(d.jsx)("div",{className:"w-full fixed top-0 left-0 z-40 shadow-md bg-white",children:Object(d.jsxs)("nav",{className:"w-full px-2 sm:px-4 py-3 flex items-center justify-between",children:[Object(d.jsx)("div",{className:"flex items-center justify-center",children:Object(d.jsxs)(u.b,{to:"/",className:"mr-2 w-9 h-9 sm:mr-5 flex items-center",children:[Object(d.jsx)("img",{className:"mr-2 w-full h-full",src:g,alt:"An astronaut floating in space."}),Object(d.jsx)("h1",{className:"text-2xl font-bold hidden xl:block",children:"Gravity"})]})}),Object(d.jsx)(v,{}),Object(d.jsxs)("div",{className:"flex items-center sm:relative sm:w-max sm:border-none sm:py-0 fixed bottom-0 left-0 w-screen justify-between bg-white py-2 border-t-2 border-theme-green",children:[Object(d.jsx)(h,{iconClass:"ri-home-smile-2-line",slug:"/",tooltipText:"Home"}),Object(d.jsx)(h,{iconClass:"ri-add-line",slug:"/forums/create",tooltipText:"Create Post"}),e.id&&Object(d.jsx)(x,{handleSignOut:function(){t(Object(m.c)()),r.push("/")}}),!e.id&&Object(d.jsxs)("div",{className:"flex items-center",children:[Object(d.jsx)(b,{label:"Sign Up",slug:"/register"}),Object(d.jsx)(b,{label:"Log In",slug:"/login"})]})]})]})})},w=r(30),N=r(4),S=r(27),E=function(e){var t=e.type,r=e.name,n=e.label,a=e.value,c=e.handleChange,s=e.error,o=e.extraProps;return Object(d.jsxs)("div",{className:"flex flex-col items-start w-full",children:[Object(d.jsx)("label",{htmlFor:r,className:"mb-1 font-bold",children:n}),Object(d.jsx)("input",Object(N.a)({autoComplete:"off",className:"w-full p-2 bg-transparent border-2 rounded-md ".concat(s?"border-theme-red":"border-theme-green"," outline-none focus-within::bg-transparent"),type:t,name:r,id:r,value:a,onChange:c,required:!0},o))]})},k=r(76),T=r(29),C=r(7),_=function(){var e=Object(n.useState)({username:"",email:"",password:""}),t=Object(O.a)(e,2),r=t[0],a=t[1],c=Object(i.b)(),s=Object(i.c)((function(e){return e})),o=s.currentUser,b=s.error,m=Object(l.g)(),p=Object(l.h)();Object(n.useEffect)((function(){if(o.id){var e=(p.state||{from:{pathname:"/"}}).from;m.replace(e)}return function(){return Object(T.a)({})}}),[o,p,m]);var f=function(e){a(Object(N.a)(Object(N.a)({},r),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(d.jsx)("div",{className:"register-form-container w-screen h-screen flex items-center justify-center overflow-hidden -mt-16",children:Object(d.jsxs)("div",{className:"register-form-wrapper sm:border-2 sm:border-theme-green rounded-lg p-4 w-96 overflow-y-auto",children:[Object(d.jsx)("h2",{className:"text-3xl mb-6 text-center",children:"Create an Account"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Object(S.c)(c,Object(N.a)(Object(N.a)({},r),{},{profilePic:k.a}))},className:"w-full",children:[Object(d.jsxs)("div",{className:"mb-4 flex flex-col items-start w-full",children:[Object(d.jsx)(E,{type:"text",name:"username",label:"Username",value:r.username,handleChange:f,error:b.error&&b.error.username,extraProps:{minLength:"3",maxLength:"21",pattern:"^[a-zA-Z0-9_]+$"}}),Object(d.jsxs)("div",{className:"flex items-start mt-2 text-gray-500 text-sm",children:[Object(d.jsx)("i",{className:"ri-information-line mr-2 text-xl"}),Object(d.jsx)("span",{children:'Usernames cannot have spaces (e.g. "goodusername" not "good username"), must be between 3-21 characters, and underscores ("_") are the only special characters allowed.'})]}),Object(C.a)(b.error&&b.error.username)]}),Object(d.jsxs)("div",{className:"mb-4 flex flex-col items-start w-full",children:[Object(d.jsx)(E,{type:"email",name:"email",label:"Email",value:r.email,handleChange:f,error:b.error&&b.error.email}),Object(C.a)(b.error&&b.error.email)]}),Object(d.jsxs)("div",{className:"mb-6 flex flex-col items-start w-full",children:[Object(d.jsx)(E,{type:"password",name:"password",label:"Password",value:r.password,handleChange:f}),Object(C.a)(b.error&&b.error.password)]}),Object(d.jsxs)("div",{className:"mb-4 w-full",children:[Object(d.jsx)("button",{className:"mb-4 px-5 py-2 w-full bg-theme-green rounded-lg text-theme-white",type:"submit",children:"Register"}),Object(d.jsxs)("p",{className:"text-center",children:["Already signed up?"," ",Object(d.jsx)(u.b,{className:"text-theme-orange underline",to:"/login",children:"Log In"})]})]})]})]})})},U=function(){var e=Object(n.useState)({username:"",password:""}),t=Object(O.a)(e,2),r=t[0],a=t[1],c=Object(i.b)(),s=Object(l.g)(),o=Object(l.h)(),b=Object(i.c)((function(e){return e})),m=b.currentUser,p=b.error;Object(n.useEffect)((function(){if(m.id){var e=(o.state||{from:{pathname:"/"}}).from;s.replace(e)}return function(){return Object(T.a)({})}}),[m,s,o.state]);var f=function(e){a(Object(N.a)(Object(N.a)({},r),{},Object(w.a)({},e.target.name,e.target.value)))};return Object(d.jsx)("div",{className:"login-form-container w-screen h-screen flex items-center justify-center overflow-hidden -mt-16",children:Object(d.jsxs)("div",{className:"login-form-wrapper sm:border-2 sm:border-theme-green rounded-lg p-4 w-96 relative",children:[Object(d.jsx)("h2",{className:"text-3xl mb-6 text-center",children:"Welcome back"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Object(S.b)(c,r)},className:"w-100 mb-5",children:[Object(d.jsx)("div",{className:"mb-4 flex flex-col items-start",children:Object(d.jsx)(E,{type:"text",name:"username",label:"Username",value:r.username,handleChange:f})}),Object(d.jsx)("div",{className:"mb-6 flex flex-col items-start",children:Object(d.jsx)(E,{type:"password",name:"password",label:"Password",value:r.password,handleChange:f})}),Object(d.jsxs)("div",{className:"mb-4",children:[Object(d.jsx)("button",{className:"mb-4 px-5 py-2 w-full bg-theme-green text-theme-white rounded-lg",type:"submit",children:"Log In"}),Object(d.jsxs)("p",{className:"text-center mb-4",children:["Haven't signed up yet?",Object(d.jsx)(u.b,{className:"text-theme-orange underline ml-1",to:"/register",children:"Sign Up"})]})]})]}),p.error&&Object(d.jsx)("div",{className:"absolute bottom-0 left-0 text-theme-white bg-theme-red w-full pb-1 rounded-b-md",children:Object(d.jsxs)("span",{className:"text-sm w-full flex items-start justify-center mt-1",children:[Object(d.jsx)("i",{className:"ri-information-line text-sm mr-1"}),p.error]})})]})})},I=r(2),A=r.n(I),D=r(6),R=r(37),L=r(64),P=r(134),M=function(e){var t=e.subredditSelected,r=e.setSubredditSelected,a=Object(i.c)((function(e){return e.currentUser})),c=Object(i.c)((function(e){return e.subreddits.filter((function(e){return a.subscriptions&&a.subscriptions.includes(e.id)}))}));return Object(d.jsx)("div",{className:"w-72 z-20",children:Object(d.jsx)(P.a,{value:t.prefixedName,onChange:r,children:Object(d.jsxs)("div",{className:"relative mt-1",children:[Object(d.jsxs)(P.a.Button,{className:"mt-3 relative w-full py-2 pl-3 pr-10 text-left bg-white rounded-sm border border-gray-400 cursor-default focus:outline-none focus-visible:ring-2 focus-visible:ring-opacity-75 focus-visible:ring-white focus-visible:ring-offset-orange-300 focus-visible:ring-offset-2 focus-visible:border-indigo-500 sm:text-sm",children:[Object(d.jsxs)("span",{className:"flex items-center text-base truncate",children:[t.communityIcon&&Object(d.jsx)("img",{className:"w-7 h-7 object-contain rounded-full mr-2",src:t.communityIcon,alt:"Community Icon"}),t.prefixedName]}),Object(d.jsx)("span",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(d.jsx)("i",{className:"ri-code-line text-gray-400 transform rotate-90"})})]}),Object(d.jsx)(f.a,{as:n.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(d.jsx)(P.a.Options,{className:"absolute w-full py-1 mt-1 overflow-auto text-base bg-white rounded-md shadow-lg max-h-60 ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm z-20 pl-0",children:c.map((function(e){return Object(d.jsx)(P.a.Option,{className:function(e){var t=e.active;return"".concat(t?"text-amber-900 bg-amber-100":"text-gray-900","\n                          cursor-default select-none relative py-2 pl-3 pr-4 list-none")},value:e,children:function(t){var r=t.subredditSelected;t.active;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("span",{className:"".concat(r?"font-medium":"font-normal"," truncate flex items-center text-base"),children:[Object(d.jsx)("img",{className:"w-7 h-7 object-contain rounded-full mr-2",src:e.communityIcon,alt:"Community Icon"}),e.prefixedName]})})}},e.id)}))})})]})})})},B=function(){var e=Object(n.useRef)(null),t=Object(n.useState)({prefixedName:"Choose a Community"}),r=Object(O.a)(t,2),a=r[0],c=r[1],s=Object(n.useState)(0),o=Object(O.a)(s,2),u=o[0],b=o[1],m=Object(n.useState)(""),p=Object(O.a)(m,2),f=p[0],j=p[1],x=Object(l.g)(),h=Object(i.b)(),v=Object(i.c)((function(e){return e})).currentUser,g=function(){var t=Object(D.a)(A.a.mark((function t(r){var n;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),!e.current.value.trim()){t.next=14;break}if(!a.id){t.next=11;break}return n={subreddit:a.id,title:e.current.value.trim(),content:f.trim(),type:"editor"},t.next=6,Object(R.a)(h,n,v.token);case 6:return t.next=8,Object(C.j)("Post created successfully!");case 8:x.goBack(),t.next=12;break;case 11:Object(C.b)("Please choose a community!");case 12:t.next=15;break;case 14:Object(C.b)("Please provide a title to your post!");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"mt-16 create-post-container pt-6 sm:pt-9 px-2 max-w-3xl mx-auto mb-20",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"text-2xl mb-2 px-2 py-2 rounded-md font-bold",children:"Create a Post"}),Object(d.jsx)("hr",{className:"mb-5"})]}),Object(d.jsx)("div",{className:"my-5",children:Object(d.jsx)(M,{subredditSelected:a,setSubredditSelected:c})}),Object(d.jsx)("div",{className:"create-post-wrapper",children:Object(d.jsxs)("form",{onSubmit:g,children:[Object(d.jsxs)("div",{className:"flex flex-col items-start mb-4",children:[Object(d.jsx)("textarea",{ref:e,onChange:function(){var t=e.current;t.style.height="auto",t.style.height=e.current.scrollHeight+"px",b(t.value.length)},name:"title",placeholder:"Title",maxLength:"300",className:"resize-none overflow-hidden text-base w-full p-2 bg-transparent border border-gray-400 rounded-sm outline-none focus-within::bg-transparent",rows:"1",required:!0}),Object(d.jsxs)("span",{className:"text-sm mt-2 text-theme-gray",children:[u," / 300"]})]}),Object(d.jsx)(L.a,{editorContent:f,setEditorContent:j,isPost:!0}),Object(d.jsxs)("div",{className:"flex items-center mt-5",children:[Object(d.jsx)("button",{type:"submit",className:"px-4 sm:px-5 py-1.5 border-2 border-theme-green text-md sm:text-base rounded-md hover:bg-theme-green hover:text-theme-white",children:"Post"}),Object(d.jsx)("button",{type:"button",className:"ml-4 sm:px-4 px-5 py-1.5 border-2 border-theme-red text-md sm:text-base rounded-md hover:bg-theme-red",onClick:function(){return x.goBack()},children:"Cancel"})]})]})})]})},z=r(84),F=["children"],G=function(e){var t=e.children,r=Object(z.a)(e,F),n=Object(i.c)((function(e){return e})).currentUser;return Object(d.jsx)(l.b,Object(N.a)(Object(N.a)({},r),{},{render:function(e){var r=e.location;return n.id?t:Object(d.jsx)(l.a,{to:{pathname:"/login",state:{from:r}}})}}))},V=r.p+"static/media/404.34dfc453.jpg",W=function(){var e=Object(l.g)();return Object(d.jsxs)("div",{className:"w-screen h-screen -mt-16 relative text-white z-50 overflow-hidden",children:[Object(d.jsx)("img",{className:"w-full h-full object-cover absolute top-0 left-0 overflow-hidden",src:V,alt:"404 Not Found",loading:"lazy"}),Object(d.jsxs)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-max",children:[Object(d.jsx)("span",{className:"text-4xl sm:text-7xl font-light tracking-wider",children:"404"}),Object(d.jsx)("span",{className:"text-4xl sm:text-7xl font-bold tracking-wider block",children:"Lost in Space"}),Object(d.jsx)("div",{className:"w-48 h-1 bg-white mt-2 mb-5"}),Object(d.jsx)("span",{className:"block text-md sm:text-lg",children:"You have reached the edge of the universe."}),Object(d.jsx)("span",{className:"block text-md sm:text-lg",children:"The page you requested could not be found."}),Object(d.jsx)("span",{className:"block text-md sm:text-lg",children:"Don't worry and return to the previous page."}),Object(d.jsxs)("div",{className:"flex items-center my-8",children:[Object(d.jsx)(u.b,{to:"/",className:"uppercase tracking-wide px-5 py-2 flex items-center justify-center text-sm sm:text-lg mr-5 bg-theme-green rounded-2xl border-2 border-theme-green",children:"go home"}),Object(d.jsx)("button",{className:"uppercase tracking-wide px-5 py-2 flex items-center justify-center text-sm sm:text-lg border-2 border-white rounded-2xl hover:bg-theme-orange hover:border-theme-orange",type:"button",onClick:function(){return e.goBack()},children:"back"})]})]})]})},H=r(65),J=r(66),q=r(43),K=r.p+"static/media/community.cea4a6b1.png",Z=function(){var e=Object(n.useState)({name:"",description:"",communityIcon:K}),t=Object(O.a)(e,2),r=t[0],a=t[1],c=Object(i.c)((function(e){return e})),s=c.currentUser,o=c.error,u=Object(l.g)(),b=Object(i.b)(),m=function(){var e=Object(D.a)(A.a.mark((function e(t){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Object(q.a)(b,r,s.token);case 3:return e.next=5,Object(S.a)(b);case 5:return e.next=7,Object(C.j)("Community created successfully");case 7:u.goBack();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"mt-16 create-post-container pt-6 sm:pt-9 px-2 max-w-3xl mx-auto mb-20",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{className:"text-2xl mb-2 px-2 py-2 rounded-md font-bold",children:"Create a Community"}),Object(d.jsx)("hr",{className:"mb-5"})]}),Object(d.jsx)("div",{className:"create-post-wrapper",children:Object(d.jsxs)("form",{onSubmit:m,children:[Object(d.jsx)("div",{className:"mx-auto rounded-full relative mb-4 shadow-inset w-36",children:Object(d.jsx)(J.a,{icon:K,dispatcher:function(e,t){a(Object(N.a)(Object(N.a)({},r),t))},objKey:"communityIcon"})}),Object(d.jsxs)("div",{className:"flex flex-col items-start mb-4",children:[Object(d.jsx)("label",{htmlFor:"subreddit-name",className:"mb-1 text-gray-600",children:"Name"}),Object(d.jsxs)("div",{className:"w-full flex items-center border border-theme-gray rounded-sm",children:[Object(d.jsx)("span",{className:"pl-2 text-base text-gray-600",children:"r/"}),Object(d.jsx)("input",{onChange:function(e){var t=e.target;return a(Object(N.a)(Object(N.a)({},r),{},{name:t.value}))},name:"name",type:"text",id:"subreddit-name",minLength:"3",maxLength:"21",pattern:"^[a-zA-Z0-9_]+$",value:r.name,className:"resize-none overflow-hidden text-base w-full p-2 bg-transparent border-none border-theme-gray rounded-sm outline-none focus-within::bg-transparent",required:!0,autoComplete:"off"})]}),Object(d.jsxs)("span",{className:"text-sm mt-2 text-theme-gray",children:[r.name.length," / 21"]}),Object(C.a)(o.error&&o.error.name),Object(d.jsxs)("div",{className:"flex items-start mt-2 text-gray-500",children:[Object(d.jsx)("i",{className:"ri-information-line mr-2 text-xl"}),Object(d.jsx)("span",{className:"text-sm sm:text-md",children:'Names cannot have spaces (e.g. "r/bookclub" not "r/book club"), must be between 3-21 characters, and underscores ("_") are the only special characters allowed.'})]})]}),Object(d.jsxs)("div",{className:"flex flex-col items-start mb-4",children:[Object(d.jsx)("label",{htmlFor:"subreddit-description",className:"mb-1 text-gray-600",children:"Description"}),Object(d.jsx)("textarea",{onChange:function(e){var t=e.target;return a(Object(N.a)(Object(N.a)({},r),{},{description:t.value}))},value:r.description,rows:"3",required:!0,maxLength:"350",className:"resize-none overflow-hidden text-base w-full p-2 bg-transparent border border-theme-gray rounded-sm outline-none focus-within::bg-transparent"}),Object(C.a)(o.error&&o.error.description)]}),Object(d.jsxs)("div",{className:"flex items-center mt-5",children:[Object(d.jsx)("button",{type:"submit",className:"px-4 sm:px-5 py-1.5 border-2 border-theme-green rounded-md text-md sm:text-base hover:bg-theme-green hover:text-theme-white",children:"Create"}),Object(d.jsx)("button",{type:"button",className:"ml-4 px-4 sm:px-5 py-1.5 border-2 border-theme-red rounded-md text-md sm:text-base hover:bg-theme-red",onClick:function(){return u.goBack()},children:"Cancel"})]})]})})]})},$=a.a.lazy((function(){return r.e(9).then(r.bind(null,146))})),Q=a.a.lazy((function(){return Promise.all([r.e(0),r.e(1),r.e(7)]).then(r.bind(null,147))})),Y=a.a.lazy((function(){return Promise.all([r.e(0),r.e(1),r.e(5)]).then(r.bind(null,148))})),X=a.a.lazy((function(){return Promise.all([r.e(0),r.e(10)]).then(r.bind(null,149))}));var ee=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.currentUser}));return Object(n.useEffect)((function(){e(Object(m.e)()),Object(q.b)(e)}),[e]),Object(n.useEffect)((function(){t.id&&Object(S.a)(e)}),[e,t.id]),Object(d.jsx)(a.a.Suspense,{fallback:Object(d.jsx)("div",{className:"w-screen h-screen flex items-center justify-center",children:Object(d.jsx)("img",{src:H.a,alt:"Red Loading Gear Icon"})}),children:Object(d.jsx)(u.a,{children:Object(d.jsxs)("div",{className:"App mt-16",children:[Object(d.jsx)(y,{}),Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{exact:!0,path:"/register",children:Object(d.jsx)(_,{})}),Object(d.jsx)(l.b,{exact:!0,path:"/login",children:Object(d.jsx)(U,{})}),Object(d.jsx)(G,{exact:!0,path:"/forums/create",children:Object(d.jsx)(B,{})}),Object(d.jsx)(G,{exact:!0,path:"/r/create",children:Object(d.jsx)(Z,{})}),Object(d.jsx)(l.b,{exact:!0,path:"/",children:Object(d.jsx)($,{})}),Object(d.jsx)(l.b,{exact:!0,path:"/forums/:id",children:Object(d.jsx)(Q,{})}),Object(d.jsx)(l.b,{exact:!0,path:"/user/:id",children:Object(d.jsx)(Y,{})}),Object(d.jsx)(l.b,{exact:!0,path:"/r/:id",children:Object(d.jsx)(X,{})}),Object(d.jsx)(l.b,{children:Object(d.jsx)(W,{})})]})]})})})};function te(e,t,r,n,a){var c=t.payload,s=c.hasUpvotedAlready,o=c.hasDownvotedAlready,i=c.postId,u=Object.assign({},e);return a?s?u[r]=u[r].filter((function(e){return e!==i})):o?(u[r]=u[r].concat(i),u[n]=u[n].filter((function(e){return e!==i}))):u[r]=u[r].concat(i):o?u[n]=u[n].filter((function(e){return e!==i})):s?(u[n]=u[n].concat(i),u[r]=u[r].filter((function(e){return e!==i}))):u[n]=u[n].concat(i),u}var re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER":case"LOGIN":return window.localStorage.setItem("loggedInGravityUser",JSON.stringify(t.payload)),t.payload;case"LOGOUT":return window.localStorage.removeItem("loggedInGravityUser"),t.payload;case"SET_FROM_LOCAL_STORAGE":return t.payload;case"GET_USER_DETAILS":case"UPDATE_USER":return Object(N.a)(Object(N.a)({},e),t.payload);case"USER_VOTE":var r=t.payload,n=r.isPost,a=r.upvoteClicked;return te(e,t,n?"postsUpvoted":"commentsUpvoted",n?"postsDownvoted":"commentsDownvoted",a);case"SUBSCRIBE_USER":var c=t.payload,s=c.subredditId,o=c.subscribe,i=Object.assign({},e);return i.subscriptions=o?i.subscriptions.concat(s):i.subscriptions.filter((function(e){return e!==s})),i;default:return e}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.payload;default:return e}},ae=r(25);function ce(e,t){return e.map((function(e){return e.id.toString()===t.payload.id.toString()?Object(N.a)(Object(N.a)({},e),t.payload):e}))}var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_POSTS":case"SET_POSTS":return t.payload;case"UPVOTE_POST_FORUMS":case"DOWNVOTE_POST_FORUMS":return ce(e,t);case"NEW_POST":return[].concat(Object(ae.a)(e),[t.payload]);case"DELETE_POST_FORUMS":return e.filter((function(e){return e.id.toString()!==t.payload}));case"EDIT_POST_FORUMS":return ce(e,t);default:return e}};function oe(e,t){return Object(ae.a)(e).map((function(e){return e.id.toString()===t.payload.id.toString()?Object(N.a)(Object(N.a)({},e),t.payload):e}))}var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMMENTS":case"UNSET_COMMENTS":return t.payload;case"ADD_COMMENT":return[].concat(Object(ae.a)(e),[t.payload]);case"UPVOTE_COMMENT":case"DOWNVOTE_COMMENT":case"DELETE_COMMENT":case"EDIT_COMMENT":return oe(e,t);default:return e}},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_SUBREDDITS":return t.payload;case"CREATE_SUBREDDIT":return[].concat(Object(ae.a)(e),[t.payload]);case"UPDATE_SUBREDDIT_ICON":var r=t.payload,n=r.subredditId,a=r.icon;return Object(ae.a)(e).map((function(e){return e.id===n?Object(N.a)(Object(N.a)({},e),{},{communityIcon:a}):e}));default:return e}},le=Object(o.a)({currentUser:re,forums:se,comments:ie,error:ne,subreddits:ue}),de=Object(o.b)(le);s.a.render(Object(d.jsx)(i.a,{store:de,children:Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(ee,{})})}),document.getElementById("root"))},26:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return c})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return o})),r.d(t,"f",(function(){return i})),r.d(t,"h",(function(){return u})),r.d(t,"g",(function(){return l}));var n=function(e){return{type:"REGISTER",payload:e}},a=function(e){return{type:"LOGIN",payload:e}},c=function(){return{type:"LOGOUT",payload:{}}},s=function(){var e=window.localStorage.getItem("loggedInGravityUser");return{type:"SET_FROM_LOCAL_STORAGE",payload:e?JSON.parse(e):{}}},o=function(e){return{type:"GET_USER_DETAILS",payload:e}},i=function(e){return{type:"UPDATE_USER",payload:e}},u=function(e){return{type:"USER_VOTE",payload:e}},l=function(e){return{type:"SUBSCRIBE_USER",payload:e}}},27:function(e,t,r){"use strict";r.d(t,"c",(function(){return b})),r.d(t,"b",(function(){return m})),r.d(t,"a",(function(){return p})),r.d(t,"f",(function(){return f})),r.d(t,"e",(function(){return j})),r.d(t,"d",(function(){return x}));var n=r(2),a=r.n(n),c=r(6),s=r(15),o=r.n(s),i=r(26),u=r(29),l=r(7),d="https://gravityapi.herokuapp.com/api/users",b=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("".concat(d,"/register"),r);case 3:n=e.sent,t(Object(i.d)(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(l.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("".concat(d,"/login"),r);case 3:n=e.sent,t(Object(i.b)(n.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(l.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.parse(window.localStorage.getItem("loggedInGravityUser")),n=r.id,e.prev=1,e.next=4,o.a.get("".concat(d,"/").concat(n));case 4:c=e.sent,t(Object(i.a)(c.data)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.response),t(Object(u.a)(e.t0.response.data));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e,t){e(Object(i.h)(t))},j=function(e,t){e(Object(i.g)(t))},x=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(window.localStorage.getItem("loggedInGravityUser")),c=n.id,e.prev=1,e.next=4,o.a.patch("".concat(d,"/").concat(c,"/update"),r);case 4:t(Object(i.f)(r)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response),t(Object(u.a)(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r){return e.apply(this,arguments)}}()},29:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){return{type:"SET_ERROR",payload:e}}},31:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"g",(function(){return a})),r.d(t,"f",(function(){return c})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return u}));var n=function(e){return{type:"GET_ALL_POSTS",payload:e}},a=function(e){return{type:"SET_POSTS",payload:e}},c=function(e){return{type:"UPVOTE_POST_FORUMS",payload:e}},s=function(e){return{type:"DOWNVOTE_POST_FORUMS",payload:e}},o=function(e){return{type:"NEW_POST",payload:e}},i=function(e){return{type:"DELETE_POST_FORUMS",payload:e}},u=function(e){return{type:"EDIT_POST_FORUMS",payload:e}}},37:function(e,t,r){"use strict";r.d(t,"d",(function(){return b})),r.d(t,"g",(function(){return m})),r.d(t,"f",(function(){return p})),r.d(t,"e",(function(){return f})),r.d(t,"a",(function(){return j})),r.d(t,"b",(function(){return x})),r.d(t,"c",(function(){return h}));var n=r(4),a=r(2),c=r.n(a),s=r(6),o=r(15),i=r.n(o),u=r(31),l=r(7),d="https://gravityapi.herokuapp.com/api/forums",b=function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get(d);case 3:r=e.sent,t(Object(u.d)(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(l.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),m=function(e,t){e(Object(u.g)(t))},p=function(){var e=Object(s.a)(c.a.mark((function e(t,r,n,a){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{Authorization:"Bearer "+a}},e.prev=1,e.next=4,i.a.patch("".concat(d,"/").concat(r,"/upvote"),n,s);case 4:t(Object(u.f)({upvotes:n.upvotes,downvotes:n.downvotes,id:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(l.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(c.a.mark((function e(t,r,n,a){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{Authorization:"Bearer "+a}},e.prev=1,e.next=4,i.a.patch("".concat(d,"/").concat(r,"/downvote"),n,s);case 4:t(Object(u.e)({upvotes:n.upvotes,downvotes:n.downvotes,id:r})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(l.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),j=function(){var e=Object(s.a)(c.a.mark((function e(t,r,n){var a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer "+n}},e.prev=1,e.next=4,i.a.post(d,r,a);case 4:s=e.sent,t(Object(u.a)(s.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(l.h)(t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(c.a.mark((function e(t,r,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"Bearer "+n}},e.prev=1,e.next=4,i.a.delete("".concat(d,"/").concat(r),a);case 4:t(Object(u.b)(r)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(l.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,n){return e.apply(this,arguments)}}(),h=function(){var e=Object(s.a)(c.a.mark((function e(t,r,a,s){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={headers:{Authorization:"Bearer "+s}},e.prev=1,e.next=4,i.a.patch("".concat(d,"/").concat(r,"/edit"),a,o);case 4:t(Object(u.c)(Object(n.a)(Object(n.a)({},a),{},{id:r}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(l.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,n,a){return e.apply(this,arguments)}}()},43:function(e,t,r){"use strict";r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return d})),r.d(t,"c",(function(){return b}));var n=r(2),a=r.n(n),c=r(6),s=r(15),o=r.n(s),i=r(7),u="https://gravityapi.herokuapp.com/api/r",l=function(){var e=Object(c.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("".concat(u,"/all"));case 3:r=e.sent,t({type:"GET_ALL_SUBREDDITS",payload:r.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(i.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n){var c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{Authorization:"Bearer "+n}},e.prev=1,e.next=4,o.a.post("".concat(u,"/create"),r,c);case 4:s=e.sent,t({type:"CREATE_SUBREDDIT",payload:s.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(i.h)(t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n){return e.apply(this,arguments)}}(),b=function(e,t,r){e({type:"UPDATE_SUBREDDIT_ICON",payload:{subredditId:t,icon:r}})}},49:function(e,t,r){"use strict";r.d(t,"d",(function(){return d})),r.d(t,"g",(function(){return b})),r.d(t,"a",(function(){return m})),r.d(t,"f",(function(){return p})),r.d(t,"e",(function(){return f})),r.d(t,"c",(function(){return j})),r.d(t,"b",(function(){return x}));var n=r(2),a=r.n(n),c=r(6),s=r(15),o=r.n(s),i=function(e){return{type:"DELETE_COMMENT",payload:e}},u=r(7),l="https://gravityapi.herokuapp.com/api/forums",d=function(){var e=Object(c.a)(a.a.mark((function e(t,r){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("".concat(l,"/").concat(r,"/comments"));case 3:n=e.sent,t({type:"SET_COMMENTS",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(u.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(e){e({type:"UNSET_COMMENTS",payload:[]})},m=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c){var s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{Authorization:"Bearer "+n}},e.prev=1,e.next=4,o.a.post("".concat(l,"/").concat(r,"/comments"),c,s);case 4:i=e.sent,t({type:"ADD_COMMENT",payload:i.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(u.h)(t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c,s){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{Authorization:"Bearer "+s}},e.prev=1,e.next=4,o.a.patch("".concat(l,"/").concat(r,"/comments/").concat(n,"/upvote"),c,i);case 4:t({type:"UPVOTE_COMMENT",payload:{upvotes:c.upvotes,downvotes:c.downvotes,id:n}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(u.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c,s){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{Authorization:"Bearer "+s}},e.prev=1,e.next=4,o.a.patch("".concat(l,"/").concat(r,"/comments/").concat(n,"/downvote"),c,i);case 4:t({type:"DOWNVOTE_COMMENT",payload:{upvotes:c.upvotes,downvotes:c.downvotes,id:n}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(u.h)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c,s){var i,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={headers:{Authorization:"Bearer "+s}},e.prev=1,e.next=4,o.a.patch("".concat(l,"/").concat(r,"/comments/").concat(n,"/edit"),c,i);case 4:d=e.sent,t({type:"EDIT_COMMENT",payload:d.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(u.h)(t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(a.a.mark((function e(t,r,n,c){var s,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{Authorization:"Bearer "+c}},e.prev=1,e.next=4,o.a.patch("".concat(l,"/").concat(r,"/comments/").concat(n,"/delete"),{},s);case 4:d=e.sent,t(i(d.data)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(u.h)(t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,r,n,a){return e.apply(this,arguments)}}()},64:function(e,t,r){"use strict";var n=r(4),a=(r(0),r(82)),c=r(83),s=r.n(c),o={placeholder:"Write Something...",toolbar:{items:["heading","|","bold","italic","underline","link","strikethrough","code","codeBlock","bulletedList","numberedList","|","outdent","indent","|","blockQuote","insertTable","mediaEmbed","undo","redo"]},language:"en",image:{toolbar:["imageTextAlternative","imageStyle:inline","imageStyle:block","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},mediaEmbed:{previewsInData:!0},heading:{options:[{model:"paragraph",title:"Paragraph",class:"text-sm sm:text-base"},{model:"heading1",view:"h2",title:"Heading 1",class:"text-xl sm:text-2xl"},{model:"heading2",view:"h3",title:"Heading 2",class:"text-lg sm:text-xl"},{model:"heading3",view:"h4",title:"Heading 3",class:"text-base sm:text-lg"}]},link:{addTargetToExternalLinks:!0}},i=r(1);t.a=function(e){var t=e.editorContent,r=e.setEditorContent,c=e.isPost;return Object(i.jsx)(a.CKEditor,{editor:s.a,data:t,onChange:function(e,t){var n=t.getData();r(n)},config:Object(n.a)(Object(n.a)({},o),{},{toolbar:{items:o.toolbar.items.filter((function(e){return c?e:"mediaEmbed"!==e}))}})})}},65:function(e,t,r){"use strict";t.a=r.p+"static/media/loading-icon.5839ac56.gif"},66:function(e,t,r){"use strict";var n=r(30),a=r(17),c=r(0),s=r(8),o=r(1);t.a=function(e){var t=e.icon,r=e.dispatcher,i=e.objKey,u=Object(c.useState)(t),l=Object(a.a)(u,2),d=l[0],b=l[1],m=Object(s.b)();return Object(o.jsxs)("div",{className:"mb-5 text-center",children:[Object(o.jsx)("div",{className:"w-full h-36 border-4 border-theme-white rounded-full mb-4 shadow-inset flex items-center justify-center",children:Object(o.jsx)("img",{id:"image",className:"object-cover w-32 h-32 rounded-full",src:d,alt:"Uploaded profile pic"})}),Object(o.jsxs)("label",{htmlFor:"fileInput",type:"button",className:"cursor-pointer flex items-center focus:outline-none border py-2 px-4 rounded-lg shadow-sm text-left text-gray-600 bg-white hover:bg-gray-100 font-medium w-max m-auto",children:[Object(o.jsx)("i",{className:"ri-camera-line text-lg mr-2"}),"Select"]}),Object(o.jsx)("input",{name:"photo",id:"fileInput",accept:"image/*",className:"hidden",type:"file",onChange:function(e){var t=e.target.files[0],a=new FileReader;a.onload=function(e){b(e.target.result),r(m,Object(n.a)({},i,e.target.result))},a.readAsDataURL(t)}})]})}},7:function(e,t,r){"use strict";r.d(t,"f",(function(){return p})),r.d(t,"e",(function(){return f})),r.d(t,"d",(function(){return j})),r.d(t,"c",(function(){return x})),r.d(t,"i",(function(){return h})),r.d(t,"g",(function(){return O})),r.d(t,"a",(function(){return v})),r.d(t,"h",(function(){return g})),r.d(t,"j",(function(){return y})),r.d(t,"b",(function(){return w}));var n=r(25),a=r(2),c=r.n(a),s=r(6),o=r(37),i=r(49),u=r(27),l=r(50),d=r.n(l),b=r(29),m=r(1),p=function(e,t,r){return e[r]&&e[r].find((function(e){return e.toString()===t}))},f=function(e,t,r){return e[r]&&e[r].find((function(e){return e.toString()===t}))},j=function(){var e=Object(s.a)(c.a.mark((function e(t,r,n,a,s){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l={upvotes:a&&!s?n.upvotes-1:n.upvotes+1,downvotes:s?n.downvotes-1:n.downvotes,hasUpvotedAlready:a,hasDownvotedAlready:s},!n.post){e.next=6;break}return e.next=4,Object(i.f)(t,n.post,n.id,l,r.token);case 4:e.next=8;break;case 6:return e.next=8,Object(o.f)(t,n.id,l,r.token);case 8:Object(u.f)(t,{hasUpvotedAlready:a,hasDownvotedAlready:s,postId:n.id,isPost:!n.post,upvoteClicked:!0});case 9:case"end":return e.stop()}}),e)})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(c.a.mark((function e(t,r,n,a,s){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l={downvotes:s&&!a?n.downvotes-1:n.downvotes+1,upvotes:a?n.upvotes-1:n.upvotes,hasDownvotedAlready:s,hasUpvotedAlready:a},!n.post){e.next=6;break}return e.next=4,Object(i.e)(t,n.post,n.id,l,r.token);case 4:e.next=8;break;case 6:return e.next=8,Object(o.e)(t,n.id,l,r.token);case 8:Object(u.f)(t,{hasUpvotedAlready:a,hasDownvotedAlready:s,postId:n.id,isPost:!n.post,upvoteClicked:!1});case 9:case"end":return e.stop()}}),e)})));return function(t,r,n,a,c){return e.apply(this,arguments)}}(),h=function(e,t){return t?e.sort((function(e,t){return e.createdAt>t.createdAt?-1:1})):e.sort((function(e,t){return e.createdAt>t.createdAt?1:-1}))},O=function(e){for(var t=Math.max.apply(Math,Object(n.a)(e.map((function(e){return e.level})))),r=[],a=function(t){0===t?r.push.apply(r,Object(n.a)(e.filter((function(e){return 0===e.level})))):r.filter((function(e){return e.level===t-1})).map((function(t){return e.filter((function(e){return e.repliedTo&&e.repliedTo===t.id}))})).forEach((function(e){if(e.length>0){var a=r.indexOf(r.find((function(r){return r.level===t-1&&e[0].repliedTo===r.id})));r.splice.apply(r,[a+1,0].concat(Object(n.a)(e)))}}))},c=0;c<=t;c++)a(c);return r},v=function(e){return e&&Object(m.jsxs)("span",{className:"text-sm text-theme-red w-full flex items-start mt-1",children:[Object(m.jsx)("i",{className:"ri-information-line text-theme-red text-sm mr-1"}),e.message]})},g=function(e,t){console.log(t.response),e(Object(b.a)(t.response.data)),setTimeout((function(){e(Object(b.a)({}))}),5e3)},y=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.fire({icon:"success",title:t,showConfirmButton:!1,timer:2e3});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.fire({icon:"error",title:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},76:function(e,t,r){"use strict";t.a=r.p+"static/media/astronaut.bba6815f.png"},93:function(e,t,r){}},[[131,3,4]]]);
//# sourceMappingURL=main.e5578ed1.chunk.js.map